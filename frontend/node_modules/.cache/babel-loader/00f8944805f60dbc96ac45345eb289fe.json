{"ast":null,"code":"import { authUser } from \"./auth\";\nimport { setCookie } from \"../utils/cookies\";\nexport const authorization = (login, password, onError) => {\n  authUser({\n    email: login,\n    password: password\n  }).then(res => {\n    setCookie(\"AccessToken\", res.data.access_token, {\n      'max-age': 3600 * 24 * 7\n    });\n    setCookie(\"RefreshToken\", res.data.refresh_token, {\n      'max-age': 3600 * 24 * 7\n    });\n    window.location = \"/\";\n  }).catch(error => {\n    var _error$response, _error$response$data, _error$response2, _error$response2$data;\n\n    console.error((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message);\n    onError((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message);\n  });\n};","map":{"version":3,"sources":["E:/education/Phyton/Projercts/my_course_works/course_3/frontend/src/api/requests.js"],"names":["authUser","setCookie","authorization","login","password","onError","email","then","res","data","access_token","refresh_token","window","location","catch","error","console","response","message"],"mappings":"AAAA,SAASA,QAAT,QAAyB,QAAzB;AACA,SAASC,SAAT,QAA0B,kBAA1B;AAEA,OAAO,MAAMC,aAAa,GAAG,CAACC,KAAD,EAAQC,QAAR,EAAkBC,OAAlB,KAA8B;AACzDL,EAAAA,QAAQ,CAAC;AAACM,IAAAA,KAAK,EAAEH,KAAR;AAAeC,IAAAA,QAAQ,EAAEA;AAAzB,GAAD,CAAR,CACGG,IADH,CACQC,GAAG,IAAI;AACXP,IAAAA,SAAS,CAAC,aAAD,EAAgBO,GAAG,CAACC,IAAJ,CAASC,YAAzB,EAAuC;AAAE,iBAAW,OAAO,EAAP,GAAY;AAAzB,KAAvC,CAAT;AACAT,IAAAA,SAAS,CAAC,cAAD,EAAiBO,GAAG,CAACC,IAAJ,CAASE,aAA1B,EAAyC;AAAE,iBAAW,OAAO,EAAP,GAAY;AAAzB,KAAzC,CAAT;AACAC,IAAAA,MAAM,CAACC,QAAP,GAAkB,GAAlB;AACD,GALH,EAMGC,KANH,CAMSC,KAAK,IAAI;AAAA;;AACdC,IAAAA,OAAO,CAACD,KAAR,oBAAcA,KAAK,CAACE,QAApB,4EAAc,gBAAgBR,IAA9B,yDAAc,qBAAsBS,OAApC;AACAb,IAAAA,OAAO,qBAACU,KAAK,CAACE,QAAP,8EAAC,iBAAgBR,IAAjB,0DAAC,sBAAsBS,OAAvB,CAAP;AACD,GATH;AAUD,CAXM","sourcesContent":["import { authUser } from \"./auth\";\r\nimport { setCookie } from \"../utils/cookies\";\r\n\r\nexport const authorization = (login, password, onError) => {\r\n  authUser({email: login, password: password})\r\n    .then(res => {\r\n      setCookie(\"AccessToken\", res.data.access_token, { 'max-age': 3600 * 24 * 7 });\r\n      setCookie(\"RefreshToken\", res.data.refresh_token, { 'max-age': 3600 * 24 * 7 });\r\n      window.location = \"/\";\r\n    })\r\n    .catch(error => {\r\n      console.error(error.response?.data?.message);\r\n      onError(error.response?.data?.message);\r\n    });\r\n}"]},"metadata":{},"sourceType":"module"}